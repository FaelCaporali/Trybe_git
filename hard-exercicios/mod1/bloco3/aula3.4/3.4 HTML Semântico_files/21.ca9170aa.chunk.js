(this["webpackJsonp@betrybe/student-journey-web"]=this["webpackJsonp@betrybe/student-journey-web"]||[]).push([[21],{1490:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var c=n(5),r=n(3),o=n(1),a=n(24),i=n(51),u=n(0),l=778;function s(t){var e=t.currentRawContent,n=t.isLoadingContent,s=t.trackData,d=t.breadcrumbItems,b=t.sidebarItems,v=t.onUrlChange,p=t.contentTitle,h=t.navigation,f=t.classLayout,j=Object(r.U)(),O=Object(o.useState)(!0),m=Object(c.a)(O,2),_=m[0],k=m[1],y=Object(o.useState)(j.width<=l),g=Object(c.a)(y,2),R=g[0],S=g[1],C=Object(o.useState)(!1),x=Object(c.a)(C,2),q=x[0],w=x[1];return Object(o.useEffect)((function(){j.width<=l&&!R&&k(!1),j.width>l&&R&&!q&&k(!0),S(j.width<=l)}),[j,R,q]),Object(u.jsxs)("div",{className:"chapter-template ".concat(f),children:[Object(u.jsx)(a.a,{items:d,className:"breadcrumbs-section"}),Object(u.jsxs)("div",{className:"block-section",children:[Object(u.jsx)(i.k,{items:b,onChange:v,setMenuOpen:function(t){k(t),w(!t)},isMenuOpen:_}),Object(u.jsxs)("div",{className:"".concat(_&&"open"," content-container"),children:[Object(u.jsx)(i.b,{isMenuOpen:_,contentTitle:p,navigation:h}),Object(u.jsx)(i.c,{isMenuOpen:_,isLoadingContent:n,trackData:s,rawContent:e})]})]})]})}var d=Object(o.memo)(s)},1504:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var c=/[/-]solutions?/;function r(t){return c.test(t)}},1508:function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return B}));var c=n(1),r=Object(c.createContext)(),o=n(5),a=n(2),i="/course";function u(t){return t.startsWith(i)?t:"".concat(i).concat(t)}function l(t){return function(e){return u(e.url)===t}}var s=n(23),d="/course";function b(t,e){var n,c,r=null===t||void 0===t?void 0:t.flatMap((function(t){var e;return null!==(e=t.sections)&&void 0!==e&&e.length?t.sections.flatMap((function(t){var e,n=t.sub_sections||t.subSections,c=null!==(e=null===n||void 0===n?void 0:n.map((function(t){return t.url})))&&void 0!==e?e:[];return[t.url].concat(Object(s.a)(c))})):t.url})),o=function(t,e){var n=null===e||void 0===e?void 0:e.startsWith(d),c=n?e:"".concat(d).concat(e),r=n?e.replace(d,""):e,o=t.findIndex((function(t){return t===c||t===r}));return o>-1?o:t.findIndex((function(t){return t.startsWith(c)||t.startsWith(r)}))}(r,e);if(-1===o)return{next:null,previous:null};var a=null!==(n=r[o+1])&&void 0!==n?n:null,i=null!==(c=r[o-1])&&void 0!==c?c:null;return{next:a&&u(a),previous:i&&u(i)}}function v(t,e,n){return t.map((function(t){var c,r,o,a,i;return{label:t.title,target:u(null!==(c=null===t||void 0===t||null===(r=t.sections)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url)&&void 0!==c?c:t.url),active:t.url===e,children:null!==(a=null===(i=t.sections)||void 0===i?void 0:i.map((function(t){var e,c;return{label:t.title,target:u(t.url),active:n.includes(t.url),children:null!==(e=null===(c=t.subSections)||void 0===c?void 0:c.map((function(t){return{label:t.title,target:u(t.url),active:n.includes(t.url)}})))&&void 0!==e?e:[]}})))&&void 0!==a?a:[]}}))}var p=n(46),h=n(18),f=["subSection","section"];var j=function(t){var e=t.subSection,n=t.section,c=Object(h.a)(t,f);return e?p.b.SUBSECTION:n?p.b.SECTION:c.category};function O(t,e,n){var c=e.id,r=e.block,o=e.blockOrder,a=e.competence,i=e.competenceName,u=e.contentId,l=e.theme,s=e.title,d=e.section,b=e.subSection,v=e.url,h=e.order;return{contentType:function(){switch(t){case"soft-skills":return p.b.SOFT_SKILL;case"career":return p.b.CAREER;default:return p.b.HARD_SKILL}}(),contentHierarchy:j(e),context:{source:p.c.COURSE,block_name:r,chapter_id:c,chapter_name:s,content_id:u,competence_name:i,theme:l,section_id:null===d||void 0===d?void 0:d.id,section_name:null===d||void 0===d?void 0:d.title,subsection_id:null===b||void 0===b?void 0:b.id,subsection_name:null===b||void 0===b?void 0:b.title},object:{path:n,block:r,block_order:o,chapter:v,chapter_id:c,chapter_order:h,chapter_name:s,competence:a,section_id:null===d||void 0===d?void 0:d.id,section_name:null===d||void 0===d?void 0:d.title,subsection_id:null===b||void 0===b?void 0:b.id,subsection_name:null===b||void 0===b?void 0:b.title}}}var m={hard_skill:"hard-skills","hard-skills":"hard-skills",soft_skill:"soft-skills","soft-skills":"soft-skills",career:"career"};function _(t){return"/course/calendar/".concat(t.split("/")[2])}var k={solutions:function(t){return function(t){return"/course/calendar/".concat(t.split("/")[2],"/solutions")}(t)},chapter:function(t){return _(t)}};function y(t,e){return k[t]?k[t](e):_(e)}function g(t,e){var n=e.block,c=e.blockOrder,r=e.category,o=e.competenceName,a=e.module,i=e.theme,u=e.title,l=e.url;return"soft-skills-layout"===t?[{title:o},{title:i}]:"career-layout"===t?[{title:"Carreira",href:"/course/career"},{title:i},{title:u}]:[{title:a,href:y(r,l)},{title:"Bloco ".concat(c," - ").concat(n)}]}function R(t,e){var n=t.chapterData,c=t.chapterSiblings,r=c.length>0?c:[n],o=function(t,e){var n,c,r=null===(n=t.sections)||void 0===n?void 0:n.find(l(e));return r?Object(a.a)(Object(a.a)({},t),{},{section:r,subSection:null,rawContent:r.rawContent}):(null===(c=t.sections)||void 0===c?void 0:c.reduce((function(n,c){var r;if(n)return n;var o=null===(r=c.subSections)||void 0===r?void 0:r.find(l(e));return o?Object(a.a)(Object(a.a)({},t),{},{section:c,subSection:o,rawContent:o.rawContent}):null}),null))||Object(a.a)(Object(a.a)({},t),{},{section:null,subSection:null})}(n,e),i=m[n.type],u="".concat(i,"-layout");return{chapterData:Object(a.a)(Object(a.a)({},o),{},{chapterSiblings:r,navigation:b(r,e)}),layout:u,sidebar:v(r,n.url,e),breadcrumbItems:g(u,n),trackData:O(i,o,e)}}var S=n(1504);function C(t){var e=t.block,n=t.chapter,c=t.section,r=t.subsection;return e.chapters.map((function(t){var e;return{label:t.title,target:u(null!==(e=t.sections)&&void 0!==e&&e.length?t.sections[0].url:t.url),active:t.url===n.url,children:n.sections.map((function(t){return{label:t.title,target:u(t.url),active:!!c&&t.url===c.url,children:t&&t.sub_sections?t.sub_sections.map((function(t){return{label:t.title,target:u(t.url),active:!!r&&t.url===r.url}})):[]}}))}}))}function x(t,e){var n=t.block,c=t.chapter,r=t.section,o=t.subsection;return{contentType:p.b.HARD_SKILL,contentHierarchy:j({section:r,subSection:o}),context:{source:p.c.COURSE,block_name:null===n||void 0===n?void 0:n.name,chapter_id:null===c||void 0===c?void 0:c.id,chapter_name:null===c||void 0===c?void 0:c.title,section_id:null===r||void 0===r?void 0:r.id,section_name:null===r||void 0===r?void 0:r.title,subsection_id:null===o||void 0===o?void 0:o.id,subsection_name:null===o||void 0===o?void 0:o.title},object:{path:e,block:null===n||void 0===n?void 0:n.id,block_order:null===n||void 0===n?void 0:n.block_order,chapter:null===c||void 0===c?void 0:c.url,chapter_order:null===c||void 0===c?void 0:c.order,chapter_id:null===c||void 0===c?void 0:c.id,chapter_name:null===c||void 0===c?void 0:c.title,section_id:null===r||void 0===r?void 0:r.id,section_name:null===r||void 0===r?void 0:r.title,subsection_id:null===o||void 0===o?void 0:o.id,subsection_name:null===o||void 0===o?void 0:o.title}}}function q(t,e){var n=function(t,e){var n={module:t,block:{},chapter:{},section:null,subsection:null},c=n.module.blocks.some((function(t){return n.block=t,t.chapters.some((function(t){if(n.chapter=t,n.section=null,n.subsection=null,Object(S.a)(e))return!1;if(t.url===e){var c=t.sections&&t.sections[0];if(c){n.section=c;var r=c.sub_sections&&c.sub_sections[0];r&&(n.subsection=r)}return!0}var o=t.sections&&t.sections.some((function(t){if(n.section=t,n.subsection=null,t.url===e)return!0;var c=t.sub_sections&&t.sub_sections.some((function(t){return n.subsection=t,t.url===e}));return c}));return o}))}));return n.navigation=b(n.block.chapters,e),n.hasContent=c,n.contentURL=n.chapter.url,n}(t,e);return{current:n,sidebar:C(n),trackData:x(n,e)}}function w(t){if(!t||!t.url)return[];var e=[{url:t.url,type:t.type,content:t.raw_content||""}];return t.sections&&t.sections.forEach((function(t){e.push.apply(e,Object(s.a)(w(t)))})),t.sub_sections&&t.sub_sections.forEach((function(t){e.push.apply(e,Object(s.a)(w(t)))})),e}var I=n(64);var E=function(t){var e=Object(c.useRef)(null),n=function(t){var e=t.object,n=t.context,c=t.contentType;return{context:{source:p.c.COURSE,block_name:null===n||void 0===n?void 0:n.block_name},contentType:c,contentHierarchy:p.b.CHAPTER,verb:p.d.VIEW,object:{chapter:null===e||void 0===e?void 0:e.chapter,chapter_id:null===e||void 0===e?void 0:e.chapter_id,chapter_name:null===e||void 0===e?void 0:e.chapter_name,block:null===e||void 0===e?void 0:e.block_order,day:null===e||void 0===e?void 0:e.chapter_order}}}(t),r=t.contentHierarchy,o=n.object.chapter_id;Object(I.i)({data:n,skip:r===p.b.SOLUTIONS||!o||e.current===o}),Object(c.useEffect)((function(){o&&(e.current=o)}),[o])};var T=function(t){var e=Object(c.useRef)(null),n=Object(c.useRef)(null),r=function(t){var e=t.object;return{context:t.context,contentType:t.contentType,contentHierarchy:p.b.SECTION,verb:p.d.VIEW,object:{chapter:null===e||void 0===e?void 0:e.chapter,block:null===e||void 0===e?void 0:e.block_order,day:null===e||void 0===e?void 0:e.chapter_order,section_id:null===e||void 0===e?void 0:e.section_id,section_name:null===e||void 0===e?void 0:e.section_name}}}(t),o=r.object.section_id,a=t.contentHierarchy;Object(I.i)({data:r,skip:a!==p.b.SECTION||!o||e.current===o&&n.current===a}),Object(c.useEffect)((function(){e.current=null!==o&&void 0!==o?o:null,n.current=null!==a&&void 0!==a?a:null}),[o,a])};var D=function(t){var e=t.contentHierarchy,n=function(t){var e=t.object,n=t.context,c=t.contentType;return{context:{source:p.c.COURSE,block_name:null===n||void 0===n?void 0:n.block_name},contentType:c,contentHierarchy:p.b.SOLUTIONS,verb:p.d.VIEW,object:{chapter:null===e||void 0===e?void 0:e.chapter,chapter_id:null===e||void 0===e?void 0:e.chapter_id,chapter_name:null===e||void 0===e?void 0:e.chapter_name,block:null===e||void 0===e?void 0:e.block_order,day:null===e||void 0===e?void 0:e.chapter_order}}}(t);Object(I.i)({data:n,skip:e!==p.b.SOLUTIONS})};var L=function(t){var e=Object(c.useRef)(null),n=Object(c.useRef)(null),r=function(t){var e=t.object;return{context:t.context,contentType:t.contentType,contentHierarchy:p.b.SUBSECTION,verb:p.d.VIEW,object:{chapter:null===e||void 0===e?void 0:e.chapter,block:null===e||void 0===e?void 0:e.block_order,day:null===e||void 0===e?void 0:e.chapter_order,subsection_id:null===e||void 0===e?void 0:e.subsection_id,subsection_name:null===e||void 0===e?void 0:e.subsection_name}}}(t),o=r.object.subsection_id,a=t.contentHierarchy;Object(I.i)({data:r,skip:a!==p.b.SUBSECTION||!o||e.current===o&&n.current===a}),Object(c.useEffect)((function(){n.current=null!==a&&void 0!==a?a:null,e.current=null!==o&&void 0!==o?o:null}),[o,a])},U=n(0),N={failed:!1,loaded:!1,loading:!1};function H(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(Object(a.a)({},N),t)}var W={moduleRequest:H(),contentRequest:H(),chapterRequest:H({loading:!0}),rawContents:[],current:{module:{},block:{chapters:[]},chapter:{},navigation:{}},sidebar:[],trackData:{},layout:"hard-skills",chapterData:{}};function M(t,e){var n=e.type,c=e.payload,r=e.currentURL,o=e.contentURL,i=e.status;switch(n){case"module-request/started":return Object(a.a)(Object(a.a)({},t),{},{moduleRequest:Object(a.a)(Object(a.a)({},t.moduleRequest),{},{loading:!0})});case"current-url-updated":case"module-request/completed":var u=q(c,r);return Object(a.a)(Object(a.a)(Object(a.a)({},t),u),{},{moduleRequest:{failed:!1,loaded:!0,loading:!1},contentRequest:Object(a.a)(Object(a.a)({},t.contentRequest),{},{loading:u.current.chapter.url!==t.loadedContentURL})});case"module-request/failed":return Object(a.a)(Object(a.a)({},t),{},{moduleRequest:Object(a.a)(Object(a.a)({},t.moduleRequest),{},{failed:!0,loading:!1})});case"content-request/started":return Object(a.a)(Object(a.a)({},t),{},{contentRequest:Object(a.a)(Object(a.a)({},t.contentRequest),{},{loading:!0})});case"content-request/completed":return Object(a.a)(Object(a.a)({},t),{},{contentRequest:{failed:!1,loaded:!0,loading:!1},rawContents:w(c),loadedContentURL:o});case"content-request/failed":return Object(a.a)(Object(a.a)({},t),{},{contentRequest:Object(a.a)(Object(a.a)({},t.contentRequest),{},{failed:{status:i},loading:!1})});case"chapter-request/started":return Object(a.a)(Object(a.a)({},t),{},{chapterRequest:Object(a.a)(Object(a.a)({},t.chapterRequest),{},{loading:!0})});case"chapter-request/completed":return Object(a.a)(Object(a.a)(Object(a.a)({},t),R(c,r)),{},{chapterRequest:{failed:!1,loaded:!0,loading:!1}});case"chapter-request/failed":return Object(a.a)(Object(a.a)({},t),{},{chapterRequest:Object(a.a)(Object(a.a)({},t.chapterRequest),{},{failed:{status:i},loading:!1})});case"chapter-inner-raw-content/changed":return Object(a.a)(Object(a.a)({},t),R({chapterData:t.chapterData,chapterSiblings:t.chapterData.chapterSiblings},r));default:throw new Error("Unhandled action type: ".concat(n))}}function A(t){var e=t.children,n=t.providedState,i=void 0===n?{}:n,u=Object(c.useReducer)(M,Object(a.a)(Object(a.a)({},W),i)),l=Object(o.a)(u,2),s=l[0],d=l[1];return E(s.trackData),D(s.trackData),T(s.trackData),L(s.trackData),Object(U.jsx)(r.Provider,{value:[s,d],children:e})}function B(){var t=Object(c.useContext)(r);if(!t)throw new Error("useContent must be used within a CourseContentContext");return t}},1801:function(t,e,n){"use strict";n.r(e);var c=n(5),r=n(17),o=n(8),a=n.n(o),i=n(1),u=n(64),l=n(11),s=n(66),d=n(1508),b=n(51),v=n(1504),p=n(1490),h=n(120),f=n(366),j=n(22),O="/api/v2/content/chapters/:chapterId";function m(){return(m=Object(r.a)(a.a.mark((function t(e){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O.replace(":chapterId",e),t.next=3,j.b.get(n,{headers:{Accept:"application/json"}});case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var _=function(t){return m.apply(this,arguments)},k=n(0),y=function(){var t=Object(r.a)(a.a.mark((function t(e,n,c){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"chapter-request/started"}),t.prev=1,t.next=4,_(n);case 4:r=t.sent,e({type:"chapter-request/completed",payload:{chapterData:Object(h.a)(r.data),chapterSiblings:Object(h.a)(r.meta.siblings)},currentURL:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"chapter-request/failed",status:null!==(o=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)&&void 0!==o?o:500});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n,c){return t.apply(this,arguments)}}();function g(){var t,e=Object(d.b)(),n=Object(c.a)(e,2),r=n[0],o=n[1],a=r.chapterRequest,h=r.chapterData,j=r.sidebar,O=r.trackData,m=r.breadcrumbItems,_=r.layout,g=h.rawContent,R=h.title,S=h.navigation,C=h.type,x=h.blockOrder,q=h.order,w=Object(s.h)(),I=Object(s.j)(),E=I.chapterId,T=I.sectionId,D=I.subSectionId,L=Object(s.i)().pathname,U=L.includes("/real-life-engineer"),N=L.includes("/trybe-talks");Object(i.useEffect)((function(){E&&y(o,E,L)}),[E]);Object(u.f)(x&&q?"".concat(x,".").concat(q," ").concat(R):R);Object(i.useEffect)((function(){(T||D)&&a.loaded&&o({type:"chapter-inner-raw-content/changed",payload:{},currentURL:L})}),[L,a.loaded,o,D,T]);var H=Object(i.useCallback)((function(t,e){w.push("".concat(t,"?use_case=").concat(e))}),[w]),W=Object(i.useMemo)((function(){return{content:g}}),[g]);return!a.loaded&&a.loading?Object(k.jsx)(l.f,{}):404===(null===(t=a.failed)||void 0===t?void 0:t.status)&&(!["hard_skill","hard-skills","soft_skill","soft-skills","career"].includes(C)||Object(v.a)(L))||U||N?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:Object(k.jsx)(f.a,{})}),Object(k.jsx)(b.e,{})]}):a.failed?Object(k.jsx)(s.a,{to:"/".concat(a.failed.status)}):Object(k.jsx)(p.a,{sidebarItems:j,onUrlChange:H,breadcrumbItems:m,contentTitle:R,navigation:S,trackData:O,classLayout:_,currentRawContent:W,isLoadingContent:a.loading})}e.default=Object(i.memo)(g)}}]);
//# sourceMappingURL=21.ca9170aa.chunk.js.map